# STREAMNOW Cursor Rules

## Goals
- Build a Next.js VOD demo (adaptive player, catalog optimization, accessibility, SSR/SSG).
- Modular, microservices-friendly architecture.
- High developer ergonomics and readability-first code.

## Code Style (enforced in reviews)
- Prefer clarity over cleverness; explicit names; avoid 1–2 char identifiers.
- Functions: verbs; variables: descriptive nouns.
- Guard clauses over deep nesting; avoid unnecessary try/catch.
- Only non-obvious comments (rationale, invariants, edge cases).
- Keep formatting consistent; don’t reformat unrelated code in edits.

## TypeScript / React
- Strict typing; avoid `any`.
- Server Components by default in `app/`; Client Components only when needed.
- Co-locate components with feature code where sensible; prefer `@/*` imports.
- Accessibility is a feature: semantic HTML, focus states, ARIA where needed.

## Next.js
- Use `app/` router.
- Prefer SSG/ISR for catalog pages, SSR where personalization is required.
- Edge/runtime decisions documented in PRs.

## Tailwind CSS
- Use composable utility classes; extract reusable components for repeated patterns.
- Keep design tokens in config; avoid magic numbers.

## Testing
- Unit tests for critical utils and components.
- Minimal e2e where flows are business-critical (playback, search, auth when added).

## Microservices Direction
- Keep frontend decoupled from services via typed SDKs or API layer.
- Favor small, well-defined interfaces; clear ownership per service.

## Git / PRs
- Atomic, focused commits; meaningful messages (imperative mood).
- PRs must describe scope, decisions, and trade-offs.

## Performance
- Measure before optimizing; use Web Vitals.
- Stream-friendly: lazy-load heavy modules, image optimization, prefetch critical data.


